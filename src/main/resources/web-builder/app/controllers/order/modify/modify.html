<div class="console-content">
    <form class="form-inline form-border" name="form">
        <div class="row-search-h40">
            <div class="form-group">
                <label>订单编号</label>
                <span class="">{{orderShow.orderNum}}</span>
            </div>
            <div class="form-group ml40">
                <label>订单状态</label>
                <select class="form-control" id="orderStatus" ng-model="orderShow.status"
                        ng-options="status.id as status.name for status in orderStatusAvailableList">
                </select>
            </div>
            <div class="form-group mr10 ml40">
                <label class="mr10">施工项目</label>
                <label class="radio-inline" ng-repeat="ot in orderTypeList">
                    <input type="checkbox" ng-model="ot.state">{{ot.name}}
                </label>
            </div>
        </div>
        <div class="mt20 row-search-h40">
            <div class="form-group">
                <label>预约时间</label>
                            <span uib-dropdown is-open="false"><span uib-dropdown-toggle tooltip-placement="bottom"
                                                                 tooltip-append-to-body="true"
                                                                 class="form-control ml10">{{orderShow.agreedStartTime | date: 'YYYY-MM-DD HH:mm'}}</span>
                                <ul uib-dropdown-menu role="menu">
                                    <datetimepicker ng-model="orderShow.agreedStartTime" required
                                                    data-datetimepicker-config="{modelType: 'YYYY-MM-DD HH:mm:ss'}"
                                                    before-render="beforeRenderDatetimepicker($view, $dates, $leftDate, $upDate, $rightDate)"></datetimepicker>
                                </ul>
                            </span>

            </div>
            <div class="form-group">
                <label>最晚交车时间</label>
                            <span uib-dropdown is-open="false"><span uib-dropdown-toggle tooltip-placement="bottom"
                                                                     tooltip-append-to-body="true"
                                                                     class="form-control ml10">{{orderShow.agreedEndTime | date: 'YYYY-MM-DD HH:mm'}}</span>
                                <ul uib-dropdown-menu role="menu">
                                    <datetimepicker ng-model="orderShow.agreedEndTime" required
                                                    data-datetimepicker-config="{modelType: 'YYYY-MM-DD HH:mm:ss'}"
                                                    before-render="beforeRenderDatetimepicker($view, $dates, $leftDate, $upDate, $rightDate)"></datetimepicker>
                                </ul>
                            </span>
            </div>
            <div class="form-group ml40">
                <label>接单技师</label>
                <input type="text" class="form-control ml10" ng-model="orderShow.techName" readonly ng-click="changeView()">
            </div>
            <div class="form-group ml40">
                <label>联系电话</label>
                <input type="text" class="form-control ml10" ng-model="orderShow.techPhone" readonly ng-click="changeView()">
            </div>
        </div>
        <div class="form-border pl15 pr15 name-phone-imp" ng-show="technicianShow">
            <form class="form-inline pl0 name-phone-bg">
                <div class="form-group ml10">
                    <label>技师姓名/电话</label>
                    <input type="text" class="form-control ml10"  ng-model="filter.query">
                </div>
                <div class="form-group ml30">
                    <button type="submit" class="btn btn-primary" ng-click="getTechnician(true)"><span class="glyphicon glyphicon-search"></span>&nbsp;查找</button>
                    <button type="button" class="btn btn-sm btn-default" ng-click="reset()">重置</button>
                </div>
            </form>
            <div class="mt10">
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th>技师姓名</th>
                        <th>联系电话</th>
                        <th>技能项</th>
                        <th>工作状态</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="t in technicians">
                        <td>{{t.name}}</td>
                        <td>{{t.phone}}</td>
                        <td><span ng-repeat="s in t.skill.split(',')" class="fa fa-tag m-l-5">{{Settings.orderTypes[s]}}</span></td>
                        <td>{{Settings.technicianType[t.workStatus]}}</td>
                        <td><a href="" class="operation-btn" ng-click="dispatchTechnician(t);">派单</a></td>
                    </tr>
                    </tbody>
                </table>
                <footer class="text-right">
                    <div class="pull-left">第{{pagination.page}}页 / 共{{(pagination.totalItems/pagination.pageSize) | ceil}}页</div>
                    <uib-pagination total-items="pagination.totalItems" ng-model="pagination.page" boundary-link-numbers="true"
                                    items-per-page="pagination.pageSize" force-ellipses="true" ng-change="getTechnician()"
                                    previous-text="上一页" next-text="下一页" max-size="7"></uib-pagination>
                </footer>
            </div>
        </div>
        <div class="mt20">
            <div class="form-group">
                <label>备&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;注</label>
                <textarea class="form-control" rows="3" style="width: 1060px;margin-left:12px;"
                          ng-model="orderShow.remark"> {{orderShow.remark}}</textarea>
            </div>
        </div>
        <div class="form-border pl10 pr1">
            <div ng-if="orderShow.position">
                <span class="ftbold" ng-model="orderShow.positionLon">经度：</span><span>{{orderShow.position.lng}}</span>
                <span class="ml20 ftbold"
                      ng-model="orderShow.positionLat">纬度：</span><span>{{orderShow.position.lat}}</span>
                <div class="modifytitle-map">
                    <location-picker required ng-model="orderShow.position"
                                     style="height: 230px; border-radius: 4px; border: 1px solid #cabe9c;"></location-picker>
                </div>
            </div>
        </div>

        <div class="pull-right modify-btn">
            <button class="mr50" type="submit" ng-click="save()">提&nbsp;&nbsp;&nbsp;&nbsp;交</button>
        </div>
    </form>
</div>